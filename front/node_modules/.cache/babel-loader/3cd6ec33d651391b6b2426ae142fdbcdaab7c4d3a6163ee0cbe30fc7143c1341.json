{"ast":null,"code":"var _jsxFileName = \"/Users/ayoubidel/Desktop/embeddedsignup/front/src/App.js\",\n  _s = $RefreshSig$();\nimport React, { useEffect, useState } from \"react\";\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nconst CONFIG = {\n  APP_ID: \"1187395139713463\",\n  CONFIG_ID: \"2282335175549472\",\n  BACKEND_URL: \"http://localhost:8081\",\n  REDIRECT_URI: \"https://c6c766eee161.ngrok-free.app\"\n};\nexport default function App() {\n  _s();\n  var _businessInfo$phone_n;\n  const [isSDKLoaded, setIsSDKLoaded] = useState(false);\n  const [status, setStatus] = useState(\"idle\");\n  const [message, setMessage] = useState(\"\");\n  const [businessInfo, setBusinessInfo] = useState(null);\n  const [nextSteps, setNextSteps] = useState([]);\n  const [loadingMethod, setLoadingMethod] = useState(\"all_js\");\n\n  // Method 1: URL Parameters + Manual Init (Most Reliable)\n  const loadSDKWithURLParams = () => {\n    console.log(\"🔄 Loading Facebook SDK with URL parameters method...\");\n\n    // Remove existing script if present\n    const existingScript = document.getElementById(\"facebook-jssdk\");\n    if (existingScript) existingScript.remove();\n\n    // Create script with all parameters in URL\n    const script = document.createElement(\"script\");\n    script.id = \"facebook-jssdk\";\n    script.async = true;\n    script.defer = true;\n    script.crossOrigin = \"anonymous\";\n    script.src = `https://connect.facebook.net/en_US/sdk.js#xfbml=1&version=v19.0&appId=${CONFIG.APP_ID}&autoLogAppEvents=1`;\n    script.onload = () => {\n      console.log(\"✅ Facebook SDK loaded with URL params\");\n\n      // Even with URL params, we need to manually init for FB.login to work\n      setTimeout(() => {\n        if (window.FB) {\n          console.log(\"🔧 Manually initializing FB SDK for login functionality...\");\n          try {\n            // Manual initialization even though URL has params\n            window.FB.init({\n              appId: CONFIG.APP_ID,\n              cookie: true,\n              xfbml: true,\n              version: 'v19.0'\n            });\n\n            // Test that it's working\n            window.FB.getLoginStatus(function (response) {\n              console.log(\"✅ Manual init successful, status:\", response.status);\n              setIsSDKLoaded(true);\n            });\n          } catch (error) {\n            console.error(\"❌ Manual init failed:\", error);\n            setMessage(`Manual init failed: ${error.message}`);\n          }\n        } else {\n          console.error(\"❌ FB object not available after load\");\n          setMessage(\"Facebook SDK loaded but FB object not available\");\n        }\n      }, 1500); // Give it more time\n    };\n    script.onerror = error => {\n      console.error(\"❌ Failed to load Facebook SDK:\", error);\n      setMessage(\"Failed to load Facebook SDK\");\n    };\n    document.head.appendChild(script);\n  };\n\n  // Method 2: Traditional fbAsyncInit with tested version\n  const loadSDKWithAsyncInit = () => {\n    console.log(\"🔄 Loading Facebook SDK with fbAsyncInit method...\");\n\n    // Set up fbAsyncInit before loading script\n    window.fbAsyncInit = function () {\n      console.log(\"fbAsyncInit called\");\n      try {\n        window.FB.init({\n          appId: CONFIG.APP_ID,\n          cookie: true,\n          xfbml: true,\n          version: 'v19.0' // Try v19.0 which is more likely to be supported\n        });\n        console.log(\"FB.init completed, testing...\");\n        window.FB.getLoginStatus(function (response) {\n          console.log(\"SDK test successful:\", response.status);\n          setIsSDKLoaded(true);\n        });\n      } catch (error) {\n        console.error(\"❌ FB.init error:\", error);\n        setMessage(`FB.init error: ${error.message}`);\n      }\n    };\n\n    // Remove existing script\n    const existingScript = document.getElementById(\"facebook-jssdk\");\n    if (existingScript) existingScript.remove();\n\n    // Load script\n    const script = document.createElement(\"script\");\n    script.id = \"facebook-jssdk\";\n    script.async = true;\n    script.src = \"https://connect.facebook.net/en_US/sdk.js\";\n    script.onload = () => console.log(\"✅ FB script loaded, waiting for init...\");\n    script.onerror = error => {\n      console.error(\"❌ Script load error:\", error);\n      setMessage(\"Script loading failed\");\n    };\n    document.head.appendChild(script);\n  };\n\n  // Method 3: Load with older version (fallback)\n  const loadSDKWithOlderVersion = () => {\n    console.log(\"Loading Facebook SDK with older version...\");\n    window.fbAsyncInit = function () {\n      console.log(\"fbAsyncInit called (older version)\");\n      try {\n        window.FB.init({\n          appId: CONFIG.APP_ID,\n          cookie: true,\n          xfbml: true,\n          version: 'v17.0' // Older, more stable version\n        });\n        window.FB.getLoginStatus(function (response) {\n          console.log(\"Older version SDK test:\", response.status);\n          setIsSDKLoaded(true);\n        });\n      } catch (error) {\n        console.error(\"Older version error:\", error);\n        setMessage(`Older version error: ${error.message}`);\n      }\n    };\n    const existingScript = document.getElementById(\"facebook-jssdk\");\n    if (existingScript) existingScript.remove();\n    const script = document.createElement(\"script\");\n    script.id = \"facebook-jssdk\";\n    script.async = true;\n    script.src = \"https://connect.facebook.net/en_US/sdk.js\";\n    script.onload = () => console.log(\"Older version script loaded\");\n    script.onerror = error => console.error(\"Older version script error:\", error);\n    document.head.appendChild(script);\n  };\n\n  // Method 4: Using all.js instead of sdk.js (Stack Overflow solution)\n  const loadSDKWithAllJS = () => {\n    console.log(\"🔄 Loading Facebook SDK with all.js method...\");\n    window.fbAsyncInit = function () {\n      console.log(\"fbAsyncInit called (all.js method)\");\n      try {\n        window.FB.init({\n          appId: CONFIG.APP_ID,\n          cookie: true,\n          xfbml: true,\n          version: 'v19.0'\n        });\n        window.FB.getLoginStatus(function (response) {\n          console.log(\"all.js SDK test:\", response.status);\n          setIsSDKLoaded(true);\n        });\n      } catch (error) {\n        console.error(\"❌ all.js method error:\", error);\n        setMessage(`all.js method error: ${error.message}`);\n      }\n    };\n    const existingScript = document.getElementById(\"facebook-jssdk\");\n    if (existingScript) existingScript.remove();\n    const script = document.createElement(\"script\");\n    script.id = \"facebook-jssdk\";\n    script.async = true;\n    script.src = \"https://connect.facebook.net/en_US/all.js\"; // Using all.js instead of sdk.js\n\n    script.onload = () => console.log(\"✅ all.js script loaded\");\n    script.onerror = error => console.error(\"❌ all.js script error:\", error);\n    document.head.appendChild(script);\n  };\n\n  // Method 5: No version specified (let Facebook decide)\n  const loadSDKWithNoVersion = () => {\n    console.log(\"🔄 Loading Facebook SDK with no version specified...\");\n    window.fbAsyncInit = function () {\n      console.log(\"fbAsyncInit called (no version)\");\n      try {\n        window.FB.init({\n          appId: CONFIG.APP_ID,\n          cookie: true,\n          xfbml: true\n          // No version specified - let Facebook use default\n        });\n        window.FB.getLoginStatus(function (response) {\n          console.log(\"No version SDK test:\", response.status);\n          setIsSDKLoaded(true);\n        });\n      } catch (error) {\n        console.error(\"❌ No version error:\", error);\n        setMessage(`No version error: ${error.message}`);\n      }\n    };\n    const existingScript = document.getElementById(\"facebook-jssdk\");\n    if (existingScript) existingScript.remove();\n    const script = document.createElement(\"script\");\n    script.id = \"facebook-jssdk\";\n    script.async = true;\n    script.src = \"https://connect.facebook.net/en_US/sdk.js\";\n    script.onload = () => console.log(\"✅ No version script loaded\");\n    script.onerror = error => console.error(\"❌ No version script error:\", error);\n    document.head.appendChild(script);\n  };\n\n  // Initialize SDK on component mount\n  useEffect(() => {\n    // Ensure fb-root div exists\n    if (!document.getElementById(\"fb-root\")) {\n      const fbRoot = document.createElement(\"div\");\n      fbRoot.id = \"fb-root\";\n      document.body.insertBefore(fbRoot, document.body.firstChild);\n      console.log(\"✅ Added fb-root div\");\n    }\n\n    // Start with the most reliable method\n    if (loadingMethod === \"url_params\") {\n      loadSDKWithURLParams();\n    } else if (loadingMethod === \"async_init\") {\n      loadSDKWithAsyncInit();\n    } else if (loadingMethod === \"older_version\") {\n      loadSDKWithOlderVersion();\n    } else if (loadingMethod === \"all_js\") {\n      loadSDKWithAllJS();\n    } else if (loadingMethod === \"no_version\") {\n      loadSDKWithNoVersion();\n    }\n\n    // Cleanup timeout\n    const timeout = setTimeout(() => {\n      if (!isSDKLoaded) {\n        console.warn(\"⚠️ SDK loading timeout\");\n        setMessage(\"SDK loading timed out. Try a different method.\");\n      }\n    }, 10000);\n    return () => clearTimeout(timeout);\n  }, [loadingMethod, isSDKLoaded]);\n\n  // Listen for Facebook messages\n  useEffect(() => {\n    const messageListener = event => {\n      if (!event.origin.endsWith('.facebook.com') && event.origin !== 'https://www.facebook.com' && event.origin !== 'https://business.facebook.com') {\n        return;\n      }\n      try {\n        const data = typeof event.data === \"string\" ? JSON.parse(event.data) : event.data;\n        if ((data === null || data === void 0 ? void 0 : data.type) === \"WA_EMBEDDED_SIGNUP\") {\n          console.log(\"📨 WhatsApp Embedded Signup event:\", data);\n          if (data.event === \"FINISH\") {\n            console.log(\"✅ Signup completed\");\n          } else if (data.event === \"CANCEL\") {\n            var _data$data;\n            setStatus(\"error\");\n            setMessage(`Signup cancelled: ${((_data$data = data.data) === null || _data$data === void 0 ? void 0 : _data$data.current_step) || 'unknown'}`);\n          }\n        }\n      } catch (e) {\n        // Ignore non-JSON messages\n      }\n    };\n    window.addEventListener(\"message\", messageListener);\n    return () => window.removeEventListener(\"message\", messageListener);\n  }, []);\n  const startSignup = () => {\n    if (!isSDKLoaded || !window.FB) {\n      setMessage(\"Facebook SDK not ready\");\n      return;\n    }\n    setStatus(\"loading\");\n    setMessage(\"Starting WhatsApp Business signup...\");\n    console.log(\"Starting FB.login with embedded signup\");\n    console.log(\"FB object methods:\", Object.keys(window.FB));\n    console.log(\"FB.login available:\", typeof window.FB.login);\n\n    // First, let's check FB status\n    window.FB.getLoginStatus(function (statusResponse) {\n      console.log(\"Current FB status before login:\", statusResponse);\n      try {\n        const loginConfig = {\n          config_id: CONFIG.CONFIG_ID,\n          response_type: \"code\",\n          override_default_response_type: true,\n          extras: {\n            setup: {},\n            featureType: '',\n            sessionInfoVersion: '3'\n          }\n        };\n        console.log(\"FB.login config:\", loginConfig);\n        window.FB.login(response => {\n          var _response$authRespons;\n          console.log(\"FB.login response:\", response);\n          if (response.error) {\n            setStatus(\"error\");\n            setMessage(`Login error: ${response.error.message}`);\n            return;\n          }\n          const code = response === null || response === void 0 ? void 0 : (_response$authRespons = response.authResponse) === null || _response$authRespons === void 0 ? void 0 : _response$authRespons.code;\n          if (code) {\n            console.log(\"Got authorization code\");\n            setupBusinessAccount(code);\n          } else {\n            setStatus(\"error\");\n            setMessage(`No code received. Status: ${response.status}`);\n          }\n        }, loginConfig);\n      } catch (error) {\n        console.error(\"FB.login error:\", error);\n        console.log(\"Error details:\", {\n          name: error.name,\n          message: error.message,\n          stack: error.stack\n        });\n        setStatus(\"error\");\n        setMessage(`FB.login failed: ${error.message}`);\n      }\n    });\n  };\n  const setupBusinessAccount = async authCode => {\n    try {\n      setMessage(\"Processing WhatsApp Business setup...\");\n      const res = await fetch(`${CONFIG.BACKEND_URL}/api/whatsapp/setup`, {\n        method: \"POST\",\n        headers: {\n          \"Content-Type\": \"application/json\"\n        },\n        body: JSON.stringify({\n          authorization_code: authCode,\n          redirect_uri: CONFIG.REDIRECT_URI,\n          client_info: {\n            user_agent: navigator.userAgent,\n            timestamp: new Date().toISOString()\n          }\n        })\n      });\n      const result = await res.json();\n      if (result.success) {\n        setStatus(\"success\");\n        setMessage(result.message || \"Setup completed!\");\n        setBusinessInfo(result.business_info);\n        setNextSteps(result.next_steps || []);\n      } else {\n        throw new Error(result.error || \"Setup failed\");\n      }\n    } catch (err) {\n      setStatus(\"error\");\n      setMessage(`Setup error: ${err.message}`);\n    }\n  };\n  const reset = () => {\n    setStatus(\"idle\");\n    setMessage(\"\");\n    setBusinessInfo(null);\n    setNextSteps([]);\n  };\n  const tryDifferentMethod = method => {\n    setIsSDKLoaded(false);\n    setMessage(\"\");\n    setStatus(\"idle\");\n    setLoadingMethod(method);\n  };\n  const testConnection = () => {\n    if (window.FB) {\n      window.FB.getLoginStatus(response => {\n        alert(`FB Status: ${response.status}\\nSDK Working: ${!!window.FB}`);\n      });\n    } else {\n      alert(\"FB object not available\");\n    }\n  };\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    style: {\n      maxWidth: 720,\n      margin: \"40px auto\",\n      fontFamily: \"system-ui\",\n      padding: \"20px\"\n    },\n    children: [/*#__PURE__*/_jsxDEV(\"div\", {\n      id: \"fb-root\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 423,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"h1\", {\n      children: \"WhatsApp Business \\u2014 Embedded Signup\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 425,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n      style: {\n        marginBottom: \"20px\",\n        padding: \"15px\",\n        backgroundColor: \"#f8f9fa\",\n        borderRadius: \"8px\",\n        border: \"1px solid #e9ecef\"\n      },\n      children: [/*#__PURE__*/_jsxDEV(\"strong\", {\n        children: \"SDK Loading Method:\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 435,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        style: {\n          marginTop: \"8px\"\n        },\n        children: [/*#__PURE__*/_jsxDEV(\"button\", {\n          onClick: () => tryDifferentMethod(\"url_params\"),\n          style: {\n            marginRight: \"8px\",\n            padding: \"6px 12px\",\n            backgroundColor: loadingMethod === \"url_params\" ? \"#007bff\" : \"#6c757d\",\n            color: \"white\",\n            border: \"none\",\n            borderRadius: \"4px\",\n            cursor: \"pointer\"\n          },\n          children: \"URL Params (Recommended)\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 437,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n          onClick: () => tryDifferentMethod(\"older_version\"),\n          style: {\n            marginRight: \"8px\",\n            marginBottom: \"4px\",\n            padding: \"6px 12px\",\n            backgroundColor: loadingMethod === \"older_version\" ? \"#007bff\" : \"#6c757d\",\n            color: \"white\",\n            border: \"none\",\n            borderRadius: \"4px\",\n            cursor: \"pointer\"\n          },\n          children: \"v17.0 Fallback\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 451,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n          onClick: () => tryDifferentMethod(\"all_js\"),\n          style: {\n            marginRight: \"8px\",\n            marginBottom: \"4px\",\n            padding: \"6px 12px\",\n            backgroundColor: loadingMethod === \"all_js\" ? \"#007bff\" : \"#6c757d\",\n            color: \"white\",\n            border: \"none\",\n            borderRadius: \"4px\",\n            cursor: \"pointer\"\n          },\n          children: \"all.js Method\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 466,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n          onClick: () => tryDifferentMethod(\"no_version\"),\n          style: {\n            marginRight: \"8px\",\n            marginBottom: \"4px\",\n            padding: \"6px 12px\",\n            backgroundColor: loadingMethod === \"no_version\" ? \"#007bff\" : \"#6c757d\",\n            color: \"white\",\n            border: \"none\",\n            borderRadius: \"4px\",\n            cursor: \"pointer\"\n          },\n          children: \"No Version\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 481,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n          onClick: testConnection,\n          style: {\n            padding: \"6px 12px\",\n            backgroundColor: \"#28a745\",\n            color: \"white\",\n            border: \"none\",\n            borderRadius: \"4px\",\n            cursor: \"pointer\"\n          },\n          children: \"Test Connection\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 496,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 436,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 428,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n      style: {\n        marginBottom: \"20px\",\n        padding: \"10px\",\n        backgroundColor: isSDKLoaded ? \"#d4edda\" : \"#fff3cd\",\n        border: `1px solid ${isSDKLoaded ? \"#c3e6cb\" : \"#ffeaa7\"}`,\n        borderRadius: \"4px\",\n        fontSize: \"14px\"\n      },\n      children: [/*#__PURE__*/_jsxDEV(\"strong\", {\n        children: \"Status:\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 521,\n        columnNumber: 9\n      }, this), \" \", isSDKLoaded ? \"✅ SDK Ready\" : \"⏳ Loading...\", /*#__PURE__*/_jsxDEV(\"br\", {}, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 521,\n        columnNumber: 80\n      }, this), /*#__PURE__*/_jsxDEV(\"strong\", {\n        children: \"Method:\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 522,\n        columnNumber: 9\n      }, this), \" \", loadingMethod, /*#__PURE__*/_jsxDEV(\"br\", {}, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 522,\n        columnNumber: 49\n      }, this), /*#__PURE__*/_jsxDEV(\"strong\", {\n        children: \"FB Object:\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 523,\n        columnNumber: 9\n      }, this), \" \", window.FB ? \"✅\" : \"❌\", /*#__PURE__*/_jsxDEV(\"br\", {}, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 523,\n        columnNumber: 60\n      }, this), /*#__PURE__*/_jsxDEV(\"strong\", {\n        children: \"App ID:\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 524,\n        columnNumber: 9\n      }, this), \" \", CONFIG.APP_ID, message && /*#__PURE__*/_jsxDEV(\"div\", {\n        style: {\n          marginTop: \"8px\",\n          color: \"#856404\"\n        },\n        children: [/*#__PURE__*/_jsxDEV(\"strong\", {\n          children: \"Message:\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 525,\n          columnNumber: 73\n        }, this), \" \", message]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 525,\n        columnNumber: 21\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 513,\n      columnNumber: 7\n    }, this), status === \"idle\" && /*#__PURE__*/_jsxDEV(\"button\", {\n      onClick: startSignup,\n      disabled: !isSDKLoaded,\n      style: {\n        padding: \"12px 24px\",\n        fontSize: \"16px\",\n        fontWeight: \"600\",\n        backgroundColor: isSDKLoaded ? \"#25d366\" : \"#ccc\",\n        color: \"white\",\n        border: \"none\",\n        borderRadius: \"8px\",\n        cursor: isSDKLoaded ? \"pointer\" : \"not-allowed\"\n      },\n      children: isSDKLoaded ? \"🚀 Connect WhatsApp Business\" : \"⏳ Loading SDK...\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 529,\n      columnNumber: 9\n    }, this), status === \"loading\" && /*#__PURE__*/_jsxDEV(\"div\", {\n      children: [/*#__PURE__*/_jsxDEV(\"h3\", {\n        children: \"\\u23F3 Setting up...\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 549,\n        columnNumber: 11\n      }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n        children: message\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 550,\n        columnNumber: 11\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 548,\n      columnNumber: 9\n    }, this), status === \"success\" && /*#__PURE__*/_jsxDEV(\"div\", {\n      children: [/*#__PURE__*/_jsxDEV(\"h3\", {\n        style: {\n          color: \"#28a745\"\n        },\n        children: \"\\u2705 Setup Complete!\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 556,\n        columnNumber: 11\n      }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n        children: message\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 557,\n        columnNumber: 11\n      }, this), businessInfo && /*#__PURE__*/_jsxDEV(\"div\", {\n        style: {\n          marginTop: \"16px\",\n          padding: \"16px\",\n          backgroundColor: \"#d4edda\",\n          borderRadius: \"8px\"\n        },\n        children: [/*#__PURE__*/_jsxDEV(\"div\", {\n          children: [/*#__PURE__*/_jsxDEV(\"strong\", {\n            children: \"Business:\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 566,\n            columnNumber: 20\n          }, this), \" \", businessInfo.business_name]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 566,\n          columnNumber: 15\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          children: [/*#__PURE__*/_jsxDEV(\"strong\", {\n            children: \"WABA ID:\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 567,\n            columnNumber: 20\n          }, this), \" \", businessInfo.waba_id]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 567,\n          columnNumber: 15\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          children: [/*#__PURE__*/_jsxDEV(\"strong\", {\n            children: \"Phone Numbers:\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 568,\n            columnNumber: 20\n          }, this), \" \", (_businessInfo$phone_n = businessInfo.phone_numbers) === null || _businessInfo$phone_n === void 0 ? void 0 : _businessInfo$phone_n.length]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 568,\n          columnNumber: 15\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          children: [/*#__PURE__*/_jsxDEV(\"strong\", {\n            children: \"Webhooks:\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 569,\n            columnNumber: 20\n          }, this), \" \", businessInfo.webhooks_enabled ? \"✅\" : \"❌\"]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 569,\n          columnNumber: 15\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 560,\n        columnNumber: 13\n      }, this), nextSteps.length > 0 && /*#__PURE__*/_jsxDEV(\"div\", {\n        style: {\n          marginTop: \"16px\"\n        },\n        children: [/*#__PURE__*/_jsxDEV(\"h4\", {\n          children: \"Next Steps:\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 575,\n          columnNumber: 15\n        }, this), /*#__PURE__*/_jsxDEV(\"ul\", {\n          children: nextSteps.map((step, i) => /*#__PURE__*/_jsxDEV(\"li\", {\n            children: step\n          }, i, false, {\n            fileName: _jsxFileName,\n            lineNumber: 578,\n            columnNumber: 19\n          }, this))\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 576,\n          columnNumber: 15\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 574,\n        columnNumber: 13\n      }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n        onClick: reset,\n        style: {\n          marginTop: \"16px\",\n          padding: \"8px 16px\"\n        },\n        children: \"\\uD83D\\uDD04 Setup Another Account\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 584,\n        columnNumber: 11\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 555,\n      columnNumber: 9\n    }, this), status === \"error\" && /*#__PURE__*/_jsxDEV(\"div\", {\n      children: [/*#__PURE__*/_jsxDEV(\"h3\", {\n        style: {\n          color: \"#dc3545\"\n        },\n        children: \"\\u274C Setup Failed\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 592,\n        columnNumber: 11\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        style: {\n          padding: \"12px\",\n          backgroundColor: \"#f8d7da\",\n          color: \"#721c24\",\n          borderRadius: \"6px\",\n          marginBottom: \"16px\"\n        },\n        children: message\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 593,\n        columnNumber: 11\n      }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n        onClick: reset,\n        style: {\n          padding: \"8px 16px\"\n        },\n        children: \"\\uD83D\\uDD04 Try Again\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 602,\n        columnNumber: 11\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 591,\n      columnNumber: 9\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 421,\n    columnNumber: 5\n  }, this);\n}\n_s(App, \"yqV+6m1txiH54fzgwMqEMTp16k8=\");\n_c = App;\nvar _c;\n$RefreshReg$(_c, \"App\");","map":{"version":3,"names":["React","useEffect","useState","jsxDEV","_jsxDEV","CONFIG","APP_ID","CONFIG_ID","BACKEND_URL","REDIRECT_URI","App","_s","_businessInfo$phone_n","isSDKLoaded","setIsSDKLoaded","status","setStatus","message","setMessage","businessInfo","setBusinessInfo","nextSteps","setNextSteps","loadingMethod","setLoadingMethod","loadSDKWithURLParams","console","log","existingScript","document","getElementById","remove","script","createElement","id","async","defer","crossOrigin","src","onload","setTimeout","window","FB","init","appId","cookie","xfbml","version","getLoginStatus","response","error","onerror","head","appendChild","loadSDKWithAsyncInit","fbAsyncInit","loadSDKWithOlderVersion","loadSDKWithAllJS","loadSDKWithNoVersion","fbRoot","body","insertBefore","firstChild","timeout","warn","clearTimeout","messageListener","event","origin","endsWith","data","JSON","parse","type","_data$data","current_step","e","addEventListener","removeEventListener","startSignup","Object","keys","login","statusResponse","loginConfig","config_id","response_type","override_default_response_type","extras","setup","featureType","sessionInfoVersion","_response$authRespons","code","authResponse","setupBusinessAccount","name","stack","authCode","res","fetch","method","headers","stringify","authorization_code","redirect_uri","client_info","user_agent","navigator","userAgent","timestamp","Date","toISOString","result","json","success","business_info","next_steps","Error","err","reset","tryDifferentMethod","testConnection","alert","style","maxWidth","margin","fontFamily","padding","children","fileName","_jsxFileName","lineNumber","columnNumber","marginBottom","backgroundColor","borderRadius","border","marginTop","onClick","marginRight","color","cursor","fontSize","disabled","fontWeight","business_name","waba_id","phone_numbers","length","webhooks_enabled","map","step","i","_c","$RefreshReg$"],"sources":["/Users/ayoubidel/Desktop/embeddedsignup/front/src/App.js"],"sourcesContent":["import React, { useEffect, useState } from \"react\";\n\nconst CONFIG = {\n  APP_ID: \"1187395139713463\",\n  CONFIG_ID: \"2282335175549472\",\n  BACKEND_URL: \"http://localhost:8081\",\n  REDIRECT_URI: \"https://c6c766eee161.ngrok-free.app\",\n};\n\nexport default function App() {\n  const [isSDKLoaded, setIsSDKLoaded] = useState(false);\n  const [status, setStatus] = useState(\"idle\");\n  const [message, setMessage] = useState(\"\");\n  const [businessInfo, setBusinessInfo] = useState(null);\n  const [nextSteps, setNextSteps] = useState([]);\n  const [loadingMethod, setLoadingMethod] = useState(\"all_js\");\n\n  // Method 1: URL Parameters + Manual Init (Most Reliable)\n  const loadSDKWithURLParams = () => {\n    console.log(\"🔄 Loading Facebook SDK with URL parameters method...\");\n    \n    // Remove existing script if present\n    const existingScript = document.getElementById(\"facebook-jssdk\");\n    if (existingScript) existingScript.remove();\n\n    // Create script with all parameters in URL\n    const script = document.createElement(\"script\");\n    script.id = \"facebook-jssdk\";\n    script.async = true;\n    script.defer = true;\n    script.crossOrigin = \"anonymous\";\n    script.src = `https://connect.facebook.net/en_US/sdk.js#xfbml=1&version=v19.0&appId=${CONFIG.APP_ID}&autoLogAppEvents=1`;\n    \n    script.onload = () => {\n      console.log(\"✅ Facebook SDK loaded with URL params\");\n      \n      // Even with URL params, we need to manually init for FB.login to work\n      setTimeout(() => {\n        if (window.FB) {\n          console.log(\"🔧 Manually initializing FB SDK for login functionality...\");\n          try {\n            // Manual initialization even though URL has params\n            window.FB.init({\n              appId: CONFIG.APP_ID,\n              cookie: true,\n              xfbml: true,\n              version: 'v19.0'\n            });\n            \n            // Test that it's working\n            window.FB.getLoginStatus(function(response) {\n              console.log(\"✅ Manual init successful, status:\", response.status);\n              setIsSDKLoaded(true);\n            });\n            \n          } catch (error) {\n            console.error(\"❌ Manual init failed:\", error);\n            setMessage(`Manual init failed: ${error.message}`);\n          }\n        } else {\n          console.error(\"❌ FB object not available after load\");\n          setMessage(\"Facebook SDK loaded but FB object not available\");\n        }\n      }, 1500); // Give it more time\n    };\n    \n    script.onerror = (error) => {\n      console.error(\"❌ Failed to load Facebook SDK:\", error);\n      setMessage(\"Failed to load Facebook SDK\");\n    };\n\n    document.head.appendChild(script);\n  };\n\n  // Method 2: Traditional fbAsyncInit with tested version\n  const loadSDKWithAsyncInit = () => {\n    console.log(\"🔄 Loading Facebook SDK with fbAsyncInit method...\");\n    \n    // Set up fbAsyncInit before loading script\n    window.fbAsyncInit = function() {\n      console.log(\"fbAsyncInit called\");\n      try {\n        window.FB.init({\n          appId: CONFIG.APP_ID,\n          cookie: true,\n          xfbml: true,\n          version: 'v19.0' // Try v19.0 which is more likely to be supported\n        });\n        \n        console.log(\"FB.init completed, testing...\");\n        window.FB.getLoginStatus(function(response) {\n          console.log(\"SDK test successful:\", response.status);\n          setIsSDKLoaded(true);\n        });\n      } catch (error) {\n        console.error(\"❌ FB.init error:\", error);\n        setMessage(`FB.init error: ${error.message}`);\n      }\n    };\n\n    // Remove existing script\n    const existingScript = document.getElementById(\"facebook-jssdk\");\n    if (existingScript) existingScript.remove();\n\n    // Load script\n    const script = document.createElement(\"script\");\n    script.id = \"facebook-jssdk\";\n    script.async = true;\n    script.src = \"https://connect.facebook.net/en_US/sdk.js\";\n    \n    script.onload = () => console.log(\"✅ FB script loaded, waiting for init...\");\n    script.onerror = (error) => {\n      console.error(\"❌ Script load error:\", error);\n      setMessage(\"Script loading failed\");\n    };\n\n    document.head.appendChild(script);\n  };\n\n  // Method 3: Load with older version (fallback)\n  const loadSDKWithOlderVersion = () => {\n    console.log(\"Loading Facebook SDK with older version...\");\n    \n    window.fbAsyncInit = function() {\n      console.log(\"fbAsyncInit called (older version)\");\n      try {\n        window.FB.init({\n          appId: CONFIG.APP_ID,\n          cookie: true,\n          xfbml: true,\n          version: 'v17.0' // Older, more stable version\n        });\n        \n        window.FB.getLoginStatus(function(response) {\n          console.log(\"Older version SDK test:\", response.status);\n          setIsSDKLoaded(true);\n        });\n      } catch (error) {\n        console.error(\"Older version error:\", error);\n        setMessage(`Older version error: ${error.message}`);\n      }\n    };\n\n    const existingScript = document.getElementById(\"facebook-jssdk\");\n    if (existingScript) existingScript.remove();\n\n    const script = document.createElement(\"script\");\n    script.id = \"facebook-jssdk\";\n    script.async = true;\n    script.src = \"https://connect.facebook.net/en_US/sdk.js\";\n    \n    script.onload = () => console.log(\"Older version script loaded\");\n    script.onerror = (error) => console.error(\"Older version script error:\", error);\n\n    document.head.appendChild(script);\n  };\n\n  // Method 4: Using all.js instead of sdk.js (Stack Overflow solution)\n  const loadSDKWithAllJS = () => {\n    console.log(\"🔄 Loading Facebook SDK with all.js method...\");\n    \n    window.fbAsyncInit = function() {\n      console.log(\"fbAsyncInit called (all.js method)\");\n      try {\n        window.FB.init({\n          appId: CONFIG.APP_ID,\n          cookie: true,\n          xfbml: true,\n          version: 'v19.0'\n        });\n        \n        window.FB.getLoginStatus(function(response) {\n          console.log(\"all.js SDK test:\", response.status);\n          setIsSDKLoaded(true);\n        });\n      } catch (error) {\n        console.error(\"❌ all.js method error:\", error);\n        setMessage(`all.js method error: ${error.message}`);\n      }\n    };\n\n    const existingScript = document.getElementById(\"facebook-jssdk\");\n    if (existingScript) existingScript.remove();\n\n    const script = document.createElement(\"script\");\n    script.id = \"facebook-jssdk\";\n    script.async = true;\n    script.src = \"https://connect.facebook.net/en_US/all.js\"; // Using all.js instead of sdk.js\n    \n    script.onload = () => console.log(\"✅ all.js script loaded\");\n    script.onerror = (error) => console.error(\"❌ all.js script error:\", error);\n\n    document.head.appendChild(script);\n  };\n\n  // Method 5: No version specified (let Facebook decide)\n  const loadSDKWithNoVersion = () => {\n    console.log(\"🔄 Loading Facebook SDK with no version specified...\");\n    \n    window.fbAsyncInit = function() {\n      console.log(\"fbAsyncInit called (no version)\");\n      try {\n        window.FB.init({\n          appId: CONFIG.APP_ID,\n          cookie: true,\n          xfbml: true\n          // No version specified - let Facebook use default\n        });\n        \n        window.FB.getLoginStatus(function(response) {\n          console.log(\"No version SDK test:\", response.status);\n          setIsSDKLoaded(true);\n        });\n      } catch (error) {\n        console.error(\"❌ No version error:\", error);\n        setMessage(`No version error: ${error.message}`);\n      }\n    };\n\n    const existingScript = document.getElementById(\"facebook-jssdk\");\n    if (existingScript) existingScript.remove();\n\n    const script = document.createElement(\"script\");\n    script.id = \"facebook-jssdk\";\n    script.async = true;\n    script.src = \"https://connect.facebook.net/en_US/sdk.js\";\n    \n    script.onload = () => console.log(\"✅ No version script loaded\");\n    script.onerror = (error) => console.error(\"❌ No version script error:\", error);\n\n    document.head.appendChild(script);\n  };\n\n  // Initialize SDK on component mount\n  useEffect(() => {\n    // Ensure fb-root div exists\n    if (!document.getElementById(\"fb-root\")) {\n      const fbRoot = document.createElement(\"div\");\n      fbRoot.id = \"fb-root\";\n      document.body.insertBefore(fbRoot, document.body.firstChild);\n      console.log(\"✅ Added fb-root div\");\n    }\n\n    // Start with the most reliable method\n    if (loadingMethod === \"url_params\") {\n      loadSDKWithURLParams();\n    } else if (loadingMethod === \"async_init\") {\n      loadSDKWithAsyncInit();\n    } else if (loadingMethod === \"older_version\") {\n      loadSDKWithOlderVersion();\n    } else if (loadingMethod === \"all_js\") {\n      loadSDKWithAllJS();\n    } else if (loadingMethod === \"no_version\") {\n      loadSDKWithNoVersion();\n    }\n\n    // Cleanup timeout\n    const timeout = setTimeout(() => {\n      if (!isSDKLoaded) {\n        console.warn(\"⚠️ SDK loading timeout\");\n        setMessage(\"SDK loading timed out. Try a different method.\");\n      }\n    }, 10000);\n\n    return () => clearTimeout(timeout);\n  }, [loadingMethod, isSDKLoaded]);\n\n  // Listen for Facebook messages\n  useEffect(() => {\n    const messageListener = (event) => {\n      if (!event.origin.endsWith('.facebook.com') && \n          event.origin !== 'https://www.facebook.com' && \n          event.origin !== 'https://business.facebook.com') {\n        return;\n      }\n\n      try {\n        const data = typeof event.data === \"string\" ? JSON.parse(event.data) : event.data;\n        if (data?.type === \"WA_EMBEDDED_SIGNUP\") {\n          console.log(\"📨 WhatsApp Embedded Signup event:\", data);\n          \n          if (data.event === \"FINISH\") {\n            console.log(\"✅ Signup completed\");\n          } else if (data.event === \"CANCEL\") {\n            setStatus(\"error\");\n            setMessage(`Signup cancelled: ${data.data?.current_step || 'unknown'}`);\n          }\n        }\n      } catch (e) {\n        // Ignore non-JSON messages\n      }\n    };\n\n    window.addEventListener(\"message\", messageListener);\n    return () => window.removeEventListener(\"message\", messageListener);\n  }, []);\n\n  const startSignup = () => {\n    if (!isSDKLoaded || !window.FB) {\n      setMessage(\"Facebook SDK not ready\");\n      return;\n    }\n\n    setStatus(\"loading\");\n    setMessage(\"Starting WhatsApp Business signup...\");\n\n    console.log(\"Starting FB.login with embedded signup\");\n    console.log(\"FB object methods:\", Object.keys(window.FB));\n    console.log(\"FB.login available:\", typeof window.FB.login);\n    \n    // First, let's check FB status\n    window.FB.getLoginStatus(function(statusResponse) {\n      console.log(\"Current FB status before login:\", statusResponse);\n      \n      try {\n        const loginConfig = {\n          config_id: CONFIG.CONFIG_ID,\n          response_type: \"code\",\n          override_default_response_type: true,\n          extras: {\n            setup: {},\n            featureType: '',\n            sessionInfoVersion: '3'\n          }\n        };\n        \n        console.log(\"FB.login config:\", loginConfig);\n        \n        window.FB.login(\n          (response) => {\n            console.log(\"FB.login response:\", response);\n            \n            if (response.error) {\n              setStatus(\"error\");\n              setMessage(`Login error: ${response.error.message}`);\n              return;\n            }\n\n            const code = response?.authResponse?.code;\n            if (code) {\n              console.log(\"Got authorization code\");\n              setupBusinessAccount(code);\n            } else {\n              setStatus(\"error\");\n              setMessage(`No code received. Status: ${response.status}`);\n            }\n          },\n          loginConfig\n        );\n      } catch (error) {\n        console.error(\"FB.login error:\", error);\n        console.log(\"Error details:\", {\n          name: error.name,\n          message: error.message,\n          stack: error.stack\n        });\n        setStatus(\"error\");\n        setMessage(`FB.login failed: ${error.message}`);\n      }\n    });\n  };\n\n  const setupBusinessAccount = async (authCode) => {\n    try {\n      setMessage(\"Processing WhatsApp Business setup...\");\n\n      const res = await fetch(`${CONFIG.BACKEND_URL}/api/whatsapp/setup`, {\n        method: \"POST\",\n        headers: { \"Content-Type\": \"application/json\" },\n        body: JSON.stringify({\n          authorization_code: authCode,\n          redirect_uri: CONFIG.REDIRECT_URI,\n          client_info: {\n            user_agent: navigator.userAgent,\n            timestamp: new Date().toISOString()\n          },\n        }),\n      });\n\n      const result = await res.json();\n\n      if (result.success) {\n        setStatus(\"success\");\n        setMessage(result.message || \"Setup completed!\");\n        setBusinessInfo(result.business_info);\n        setNextSteps(result.next_steps || []);\n      } else {\n        throw new Error(result.error || \"Setup failed\");\n      }\n    } catch (err) {\n      setStatus(\"error\");\n      setMessage(`Setup error: ${err.message}`);\n    }\n  };\n\n  const reset = () => {\n    setStatus(\"idle\");\n    setMessage(\"\");\n    setBusinessInfo(null);\n    setNextSteps([]);\n  };\n\n  const tryDifferentMethod = (method) => {\n    setIsSDKLoaded(false);\n    setMessage(\"\");\n    setStatus(\"idle\");\n    setLoadingMethod(method);\n  };\n\n  const testConnection = () => {\n    if (window.FB) {\n      window.FB.getLoginStatus((response) => {\n        alert(`FB Status: ${response.status}\\nSDK Working: ${!!window.FB}`);\n      });\n    } else {\n      alert(\"FB object not available\");\n    }\n  };\n\n  return (\n    <div style={{ maxWidth: 720, margin: \"40px auto\", fontFamily: \"system-ui\", padding: \"20px\" }}>\n      {/* Ensure fb-root div exists */}\n      <div id=\"fb-root\"></div>\n      \n      <h1>WhatsApp Business — Embedded Signup</h1>\n\n      {/* Loading Method Controls */}\n      <div style={{ \n        marginBottom: \"20px\", \n        padding: \"15px\", \n        backgroundColor: \"#f8f9fa\", \n        borderRadius: \"8px\",\n        border: \"1px solid #e9ecef\"\n      }}>\n        <strong>SDK Loading Method:</strong>\n        <div style={{ marginTop: \"8px\" }}>\n          <button \n            onClick={() => tryDifferentMethod(\"url_params\")} \n            style={{ \n              marginRight: \"8px\", \n              padding: \"6px 12px\", \n              backgroundColor: loadingMethod === \"url_params\" ? \"#007bff\" : \"#6c757d\",\n              color: \"white\",\n              border: \"none\",\n              borderRadius: \"4px\",\n              cursor: \"pointer\"\n            }}\n          >\n            URL Params (Recommended)\n          </button>\n          <button \n            onClick={() => tryDifferentMethod(\"older_version\")} \n            style={{ \n              marginRight: \"8px\", \n              marginBottom: \"4px\",\n              padding: \"6px 12px\", \n              backgroundColor: loadingMethod === \"older_version\" ? \"#007bff\" : \"#6c757d\",\n              color: \"white\",\n              border: \"none\",\n              borderRadius: \"4px\",\n              cursor: \"pointer\"\n            }}\n          >\n            v17.0 Fallback\n          </button>\n          <button \n            onClick={() => tryDifferentMethod(\"all_js\")} \n            style={{ \n              marginRight: \"8px\", \n              marginBottom: \"4px\",\n              padding: \"6px 12px\", \n              backgroundColor: loadingMethod === \"all_js\" ? \"#007bff\" : \"#6c757d\",\n              color: \"white\",\n              border: \"none\",\n              borderRadius: \"4px\",\n              cursor: \"pointer\"\n            }}\n          >\n            all.js Method\n          </button>\n          <button \n            onClick={() => tryDifferentMethod(\"no_version\")} \n            style={{ \n              marginRight: \"8px\", \n              marginBottom: \"4px\",\n              padding: \"6px 12px\", \n              backgroundColor: loadingMethod === \"no_version\" ? \"#007bff\" : \"#6c757d\",\n              color: \"white\",\n              border: \"none\",\n              borderRadius: \"4px\",\n              cursor: \"pointer\"\n            }}\n          >\n            No Version\n          </button>\n          <button \n            onClick={testConnection}\n            style={{ \n              padding: \"6px 12px\", \n              backgroundColor: \"#28a745\",\n              color: \"white\",\n              border: \"none\",\n              borderRadius: \"4px\",\n              cursor: \"pointer\"\n            }}\n          >\n            Test Connection\n          </button>\n        </div>\n      </div>\n\n      {/* Status Display */}\n      <div style={{ \n        marginBottom: \"20px\", \n        padding: \"10px\", \n        backgroundColor: isSDKLoaded ? \"#d4edda\" : \"#fff3cd\",\n        border: `1px solid ${isSDKLoaded ? \"#c3e6cb\" : \"#ffeaa7\"}`,\n        borderRadius: \"4px\",\n        fontSize: \"14px\"\n      }}>\n        <strong>Status:</strong> {isSDKLoaded ? \"✅ SDK Ready\" : \"⏳ Loading...\"}<br/>\n        <strong>Method:</strong> {loadingMethod}<br/>\n        <strong>FB Object:</strong> {window.FB ? \"✅\" : \"❌\"}<br/>\n        <strong>App ID:</strong> {CONFIG.APP_ID}\n        {message && <div style={{ marginTop: \"8px\", color: \"#856404\" }}><strong>Message:</strong> {message}</div>}\n      </div>\n\n      {status === \"idle\" && (\n        <button\n          onClick={startSignup}\n          disabled={!isSDKLoaded}\n          style={{\n            padding: \"12px 24px\",\n            fontSize: \"16px\",\n            fontWeight: \"600\",\n            backgroundColor: isSDKLoaded ? \"#25d366\" : \"#ccc\",\n            color: \"white\",\n            border: \"none\",\n            borderRadius: \"8px\",\n            cursor: isSDKLoaded ? \"pointer\" : \"not-allowed\"\n          }}\n        >\n          {isSDKLoaded ? \"🚀 Connect WhatsApp Business\" : \"⏳ Loading SDK...\"}\n        </button>\n      )}\n\n      {status === \"loading\" && (\n        <div>\n          <h3>⏳ Setting up...</h3>\n          <p>{message}</p>\n        </div>\n      )}\n\n      {status === \"success\" && (\n        <div>\n          <h3 style={{ color: \"#28a745\" }}>✅ Setup Complete!</h3>\n          <p>{message}</p>\n          \n          {businessInfo && (\n            <div style={{ \n              marginTop: \"16px\", \n              padding: \"16px\", \n              backgroundColor: \"#d4edda\", \n              borderRadius: \"8px\" \n            }}>\n              <div><strong>Business:</strong> {businessInfo.business_name}</div>\n              <div><strong>WABA ID:</strong> {businessInfo.waba_id}</div>\n              <div><strong>Phone Numbers:</strong> {businessInfo.phone_numbers?.length}</div>\n              <div><strong>Webhooks:</strong> {businessInfo.webhooks_enabled ? \"✅\" : \"❌\"}</div>\n            </div>\n          )}\n\n          {nextSteps.length > 0 && (\n            <div style={{ marginTop: \"16px\" }}>\n              <h4>Next Steps:</h4>\n              <ul>\n                {nextSteps.map((step, i) => (\n                  <li key={i}>{step}</li>\n                ))}\n              </ul>\n            </div>\n          )}\n\n          <button onClick={reset} style={{ marginTop: \"16px\", padding: \"8px 16px\" }}>\n            🔄 Setup Another Account\n          </button>\n        </div>\n      )}\n\n      {status === \"error\" && (\n        <div>\n          <h3 style={{ color: \"#dc3545\" }}>❌ Setup Failed</h3>\n          <div style={{ \n            padding: \"12px\", \n            backgroundColor: \"#f8d7da\", \n            color: \"#721c24\",\n            borderRadius: \"6px\",\n            marginBottom: \"16px\"\n          }}>\n            {message}\n          </div>\n          <button onClick={reset} style={{ padding: \"8px 16px\" }}>\n            🔄 Try Again\n          </button>\n        </div>\n      )}\n    </div>\n  );\n}"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}