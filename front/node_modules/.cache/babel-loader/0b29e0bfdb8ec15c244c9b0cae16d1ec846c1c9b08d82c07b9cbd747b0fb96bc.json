{"ast":null,"code":"var _jsxFileName = \"/Users/ayoubidel/Desktop/embeddedsignup/front/src/App.js\",\n  _s = $RefreshSig$();\nimport React, { useEffect, useState } from \"react\";\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nconst CONFIG = {\n  APP_ID: \"1187395139713463\",\n  CONFIG_ID: \"2282335175549472\",\n  BACKEND_URL: \"http://localhost:8081\",\n  REDIRECT_URI: \"https://c6c766eee161.ngrok-free.app\"\n};\nexport default function App() {\n  _s();\n  var _businessInfo$phone_n;\n  const [isSDKLoaded, setIsSDKLoaded] = useState(false);\n  const [status, setStatus] = useState(\"idle\");\n  const [message, setMessage] = useState(\"\");\n  const [businessInfo, setBusinessInfo] = useState(null);\n  const [nextSteps, setNextSteps] = useState([]);\n  const [loadingMethod, setLoadingMethod] = useState(\"url_params\");\n\n  // Method 1: URL Parameters (Most Reliable)\n  const loadSDKWithURLParams = () => {\n    console.log(\"üîÑ Loading Facebook SDK with URL parameters method...\");\n\n    // Remove existing script if present\n    const existingScript = document.getElementById(\"facebook-jssdk\");\n    if (existingScript) existingScript.remove();\n\n    // Create script with all parameters in URL\n    const script = document.createElement(\"script\");\n    script.id = \"facebook-jssdk\";\n    script.async = true;\n    script.defer = true;\n    script.crossOrigin = \"anonymous\";\n    script.src = `https://connect.facebook.net/en_US/sdk.js#xfbml=1&version=v19.0&appId=${CONFIG.APP_ID}&autoLogAppEvents=1`;\n    script.onload = () => {\n      console.log(\"‚úÖ Facebook SDK loaded with URL params\");\n      // Wait a moment for SDK to initialize\n      setTimeout(() => {\n        if (window.FB) {\n          setIsSDKLoaded(true);\n          console.log(\"‚úÖ Facebook SDK ready\");\n        } else {\n          console.error(\"‚ùå FB object not available after load\");\n          setMessage(\"Facebook SDK loaded but FB object not available\");\n        }\n      }, 1000);\n    };\n    script.onerror = error => {\n      console.error(\"‚ùå Failed to load Facebook SDK:\", error);\n      setMessage(\"Failed to load Facebook SDK\");\n    };\n    document.head.appendChild(script);\n  };\n\n  // Method 2: Traditional fbAsyncInit with tested version\n  const loadSDKWithAsyncInit = () => {\n    console.log(\"üîÑ Loading Facebook SDK with fbAsyncInit method...\");\n\n    // Set up fbAsyncInit before loading script\n    window.fbAsyncInit = function () {\n      console.log(\"fbAsyncInit called\");\n      try {\n        window.FB.init({\n          appId: CONFIG.APP_ID,\n          cookie: true,\n          xfbml: true,\n          version: \"v19.0\" // Try v19.0 which is more likely to be supported\n        });\n        console.log(\"FB.init completed, testing...\");\n        window.FB.getLoginStatus(function (response) {\n          console.log(\"SDK test successful:\", response.status);\n          setIsSDKLoaded(true);\n        });\n      } catch (error) {\n        console.error(\"‚ùå FB.init error:\", error);\n        setMessage(`FB.init error: ${error.message}`);\n      }\n    };\n\n    // Remove existing script\n    const existingScript = document.getElementById(\"facebook-jssdk\");\n    if (existingScript) existingScript.remove();\n\n    // Load script\n    const script = document.createElement(\"script\");\n    script.id = \"facebook-jssdk\";\n    script.async = true;\n    script.src = \"https://connect.facebook.net/en_US/sdk.js\";\n    script.onload = () => console.log(\"‚úÖ FB script loaded, waiting for init...\");\n    script.onerror = error => {\n      console.error(\"‚ùå Script load error:\", error);\n      setMessage(\"Script loading failed\");\n    };\n    document.head.appendChild(script);\n  };\n\n  // Method 3: Load with older version (fallback)\n  const loadSDKWithOlderVersion = () => {\n    console.log(\"üîÑ Loading Facebook SDK with older version...\");\n    window.fbAsyncInit = function () {\n      console.log(\"fbAsyncInit called (older version)\");\n      try {\n        window.FB.init({\n          appId: CONFIG.APP_ID,\n          cookie: true,\n          xfbml: true,\n          version: \"v17.0\" // Older, more stable version\n        });\n        window.FB.getLoginStatus(function (response) {\n          console.log(\"Older version SDK test:\", response.status);\n          setIsSDKLoaded(true);\n        });\n      } catch (error) {\n        console.error(\"‚ùå Older version error:\", error);\n        setMessage(`Older version error: ${error.message}`);\n      }\n    };\n    const existingScript = document.getElementById(\"facebook-jssdk\");\n    if (existingScript) existingScript.remove();\n    const script = document.createElement(\"script\");\n    script.id = \"facebook-jssdk\";\n    script.async = true;\n    script.src = \"https://connect.facebook.net/en_US/sdk.js\";\n    script.onload = () => console.log(\"‚úÖ Older version script loaded\");\n    script.onerror = error => console.error(\"‚ùå Older version script error:\", error);\n    document.head.appendChild(script);\n  };\n\n  // Initialize SDK on component mount\n  useEffect(() => {\n    // Ensure fb-root div exists\n    if (!document.getElementById(\"fb-root\")) {\n      const fbRoot = document.createElement(\"div\");\n      fbRoot.id = \"fb-root\";\n      document.body.insertBefore(fbRoot, document.body.firstChild);\n      console.log(\"‚úÖ Added fb-root div\");\n    }\n\n    // Start with the most reliable method\n    if (loadingMethod === \"url_params\") {\n      loadSDKWithURLParams();\n    } else if (loadingMethod === \"async_init\") {\n      loadSDKWithAsyncInit();\n    } else if (loadingMethod === \"older_version\") {\n      loadSDKWithOlderVersion();\n    }\n\n    // Cleanup timeout\n    const timeout = setTimeout(() => {\n      if (!isSDKLoaded) {\n        console.warn(\"‚ö†Ô∏è SDK loading timeout\");\n        setMessage(\"SDK loading timed out. Try a different method.\");\n      }\n    }, 10000);\n    return () => clearTimeout(timeout);\n  }, [loadingMethod, isSDKLoaded]);\n\n  // Listen for Facebook messages\n  useEffect(() => {\n    const messageListener = event => {\n      if (!event.origin.endsWith(\".facebook.com\") && event.origin !== \"https://www.facebook.com\" && event.origin !== \"https://business.facebook.com\") {\n        return;\n      }\n      try {\n        const data = typeof event.data === \"string\" ? JSON.parse(event.data) : event.data;\n        if ((data === null || data === void 0 ? void 0 : data.type) === \"WA_EMBEDDED_SIGNUP\") {\n          console.log(\"üì® WhatsApp Embedded Signup event:\", data);\n          if (data.event === \"FINISH\") {\n            console.log(\"‚úÖ Signup completed\");\n          } else if (data.event === \"CANCEL\") {\n            var _data$data;\n            setStatus(\"error\");\n            setMessage(`Signup cancelled: ${((_data$data = data.data) === null || _data$data === void 0 ? void 0 : _data$data.current_step) || \"unknown\"}`);\n          }\n        }\n      } catch (e) {\n        // Ignore non-JSON messages\n      }\n    };\n    window.addEventListener(\"message\", messageListener);\n    return () => window.removeEventListener(\"message\", messageListener);\n  }, []);\n  const startSignup = () => {\n    if (!isSDKLoaded || !window.FB) {\n      setMessage(\"Facebook SDK not ready\");\n      return;\n    }\n    setStatus(\"loading\");\n    setMessage(\"Starting WhatsApp Business signup...\");\n    console.log(\"üöÄ Starting FB.login with embedded signup\");\n    try {\n      window.FB.login(response => {\n        var _response$authRespons;\n        console.log(\"üì• FB.login response:\", response);\n        if (response.error) {\n          setStatus(\"error\");\n          setMessage(`Login error: ${response.error.message}`);\n          return;\n        }\n        const code = response === null || response === void 0 ? void 0 : (_response$authRespons = response.authResponse) === null || _response$authRespons === void 0 ? void 0 : _response$authRespons.code;\n        if (code) {\n          console.log(\"‚úÖ Got authorization code\");\n          setupBusinessAccount(code);\n        } else {\n          setStatus(\"error\");\n          setMessage(`No code received. Status: ${response.status}`);\n        }\n      }, {\n        config_id: CONFIG.CONFIG_ID,\n        response_type: \"code\",\n        override_default_response_type: true,\n        extras: {\n          setup: {},\n          featureType: \"\",\n          sessionInfoVersion: \"3\"\n        }\n      });\n    } catch (error) {\n      console.error(\"‚ùå FB.login error:\", error);\n      setStatus(\"error\");\n      setMessage(`FB.login failed: ${error.message}`);\n    }\n  };\n  const setupBusinessAccount = async authCode => {\n    try {\n      setMessage(\"Processing WhatsApp Business setup...\");\n      const res = await fetch(`${CONFIG.BACKEND_URL}/api/whatsapp/setup`, {\n        method: \"POST\",\n        headers: {\n          \"Content-Type\": \"application/json\"\n        },\n        body: JSON.stringify({\n          authorization_code: authCode,\n          redirect_uri: CONFIG.REDIRECT_URI,\n          client_info: {\n            user_agent: navigator.userAgent,\n            timestamp: new Date().toISOString()\n          }\n        })\n      });\n      const result = await res.json();\n      if (result.success) {\n        setStatus(\"success\");\n        setMessage(result.message || \"Setup completed!\");\n        setBusinessInfo(result.business_info);\n        setNextSteps(result.next_steps || []);\n      } else {\n        throw new Error(result.error || \"Setup failed\");\n      }\n    } catch (err) {\n      setStatus(\"error\");\n      setMessage(`Setup error: ${err.message}`);\n    }\n  };\n  const reset = () => {\n    setStatus(\"idle\");\n    setMessage(\"\");\n    setBusinessInfo(null);\n    setNextSteps([]);\n  };\n  const tryDifferentMethod = method => {\n    setIsSDKLoaded(false);\n    setMessage(\"\");\n    setStatus(\"idle\");\n    setLoadingMethod(method);\n  };\n  const testConnection = () => {\n    if (window.FB) {\n      window.FB.getLoginStatus(response => {\n        alert(`FB Status: ${response.status}\\nSDK Working: ${!!window.FB}`);\n      });\n    } else {\n      alert(\"FB object not available\");\n    }\n  };\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    style: {\n      maxWidth: 720,\n      margin: \"40px auto\",\n      fontFamily: \"system-ui\",\n      padding: \"20px\"\n    },\n    children: [/*#__PURE__*/_jsxDEV(\"div\", {\n      id: \"fb-root\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 322,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"h1\", {\n      children: \"WhatsApp Business \\u2014 Embedded Signup\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 324,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n      style: {\n        marginBottom: \"20px\",\n        padding: \"15px\",\n        backgroundColor: \"#f8f9fa\",\n        borderRadius: \"8px\",\n        border: \"1px solid #e9ecef\"\n      },\n      children: [/*#__PURE__*/_jsxDEV(\"strong\", {\n        children: \"SDK Loading Method:\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 336,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        style: {\n          marginTop: \"8px\"\n        },\n        children: [/*#__PURE__*/_jsxDEV(\"button\", {\n          onClick: () => tryDifferentMethod(\"url_params\"),\n          style: {\n            marginRight: \"8px\",\n            padding: \"6px 12px\",\n            backgroundColor: loadingMethod === \"url_params\" ? \"#007bff\" : \"#6c757d\",\n            color: \"white\",\n            border: \"none\",\n            borderRadius: \"4px\",\n            cursor: \"pointer\"\n          },\n          children: \"URL Params (Recommended)\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 338,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n          onClick: () => tryDifferentMethod(\"async_init\"),\n          style: {\n            marginRight: \"8px\",\n            padding: \"6px 12px\",\n            backgroundColor: loadingMethod === \"async_init\" ? \"#007bff\" : \"#6c757d\",\n            color: \"white\",\n            border: \"none\",\n            borderRadius: \"4px\",\n            cursor: \"pointer\"\n          },\n          children: \"Async Init v19.0\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 353,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n          onClick: () => tryDifferentMethod(\"older_version\"),\n          style: {\n            marginRight: \"8px\",\n            padding: \"6px 12px\",\n            backgroundColor: loadingMethod === \"older_version\" ? \"#007bff\" : \"#6c757d\",\n            color: \"white\",\n            border: \"none\",\n            borderRadius: \"4px\",\n            cursor: \"pointer\"\n          },\n          children: \"Older Version v17.0\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 368,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n          onClick: testConnection,\n          style: {\n            padding: \"6px 12px\",\n            backgroundColor: \"#28a745\",\n            color: \"white\",\n            border: \"none\",\n            borderRadius: \"4px\",\n            cursor: \"pointer\"\n          },\n          children: \"Test Connection\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 383,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 337,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 327,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n      style: {\n        marginBottom: \"20px\",\n        padding: \"10px\",\n        backgroundColor: isSDKLoaded ? \"#d4edda\" : \"#fff3cd\",\n        border: `1px solid ${isSDKLoaded ? \"#c3e6cb\" : \"#ffeaa7\"}`,\n        borderRadius: \"4px\",\n        fontSize: \"14px\"\n      },\n      children: [/*#__PURE__*/_jsxDEV(\"strong\", {\n        children: \"Status:\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 410,\n        columnNumber: 9\n      }, this), \" \", isSDKLoaded ? \"‚úÖ SDK Ready\" : \"‚è≥ Loading...\", /*#__PURE__*/_jsxDEV(\"br\", {}, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 412,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"strong\", {\n        children: \"Method:\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 413,\n        columnNumber: 9\n      }, this), \" \", loadingMethod, /*#__PURE__*/_jsxDEV(\"br\", {}, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 414,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"strong\", {\n        children: \"FB Object:\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 415,\n        columnNumber: 9\n      }, this), \" \", window.FB ? \"‚úÖ\" : \"‚ùå\", /*#__PURE__*/_jsxDEV(\"br\", {}, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 416,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"strong\", {\n        children: \"App ID:\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 417,\n        columnNumber: 9\n      }, this), \" \", CONFIG.APP_ID, message && /*#__PURE__*/_jsxDEV(\"div\", {\n        style: {\n          marginTop: \"8px\",\n          color: \"#856404\"\n        },\n        children: [/*#__PURE__*/_jsxDEV(\"strong\", {\n          children: \"Message:\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 420,\n          columnNumber: 13\n        }, this), \" \", message]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 419,\n        columnNumber: 11\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 400,\n      columnNumber: 7\n    }, this), status === \"idle\" && /*#__PURE__*/_jsxDEV(\"button\", {\n      onClick: startSignup,\n      disabled: !isSDKLoaded,\n      style: {\n        padding: \"12px 24px\",\n        fontSize: \"16px\",\n        fontWeight: \"600\",\n        backgroundColor: isSDKLoaded ? \"#25d366\" : \"#ccc\",\n        color: \"white\",\n        border: \"none\",\n        borderRadius: \"8px\",\n        cursor: isSDKLoaded ? \"pointer\" : \"not-allowed\"\n      },\n      children: isSDKLoaded ? \"üöÄ Connect WhatsApp Business\" : \"‚è≥ Loading SDK...\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 426,\n      columnNumber: 9\n    }, this), status === \"loading\" && /*#__PURE__*/_jsxDEV(\"div\", {\n      children: [/*#__PURE__*/_jsxDEV(\"h3\", {\n        children: \"\\u23F3 Setting up...\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 446,\n        columnNumber: 11\n      }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n        children: message\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 447,\n        columnNumber: 11\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 445,\n      columnNumber: 9\n    }, this), status === \"success\" && /*#__PURE__*/_jsxDEV(\"div\", {\n      children: [/*#__PURE__*/_jsxDEV(\"h3\", {\n        style: {\n          color: \"#28a745\"\n        },\n        children: \"\\u2705 Setup Complete!\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 453,\n        columnNumber: 11\n      }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n        children: message\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 454,\n        columnNumber: 11\n      }, this), businessInfo && /*#__PURE__*/_jsxDEV(\"div\", {\n        style: {\n          marginTop: \"16px\",\n          padding: \"16px\",\n          backgroundColor: \"#d4edda\",\n          borderRadius: \"8px\"\n        },\n        children: [/*#__PURE__*/_jsxDEV(\"div\", {\n          children: [/*#__PURE__*/_jsxDEV(\"strong\", {\n            children: \"Business:\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 466,\n            columnNumber: 17\n          }, this), \" \", businessInfo.business_name]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 465,\n          columnNumber: 15\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          children: [/*#__PURE__*/_jsxDEV(\"strong\", {\n            children: \"WABA ID:\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 469,\n            columnNumber: 17\n          }, this), \" \", businessInfo.waba_id]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 468,\n          columnNumber: 15\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          children: [/*#__PURE__*/_jsxDEV(\"strong\", {\n            children: \"Phone Numbers:\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 472,\n            columnNumber: 17\n          }, this), \" \", (_businessInfo$phone_n = businessInfo.phone_numbers) === null || _businessInfo$phone_n === void 0 ? void 0 : _businessInfo$phone_n.length]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 471,\n          columnNumber: 15\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          children: [/*#__PURE__*/_jsxDEV(\"strong\", {\n            children: \"Webhooks:\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 476,\n            columnNumber: 17\n          }, this), \" \", businessInfo.webhooks_enabled ? \"‚úÖ\" : \"‚ùå\"]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 475,\n          columnNumber: 15\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 457,\n        columnNumber: 13\n      }, this), nextSteps.length > 0 && /*#__PURE__*/_jsxDEV(\"div\", {\n        style: {\n          marginTop: \"16px\"\n        },\n        children: [/*#__PURE__*/_jsxDEV(\"h4\", {\n          children: \"Next Steps:\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 484,\n          columnNumber: 15\n        }, this), /*#__PURE__*/_jsxDEV(\"ul\", {\n          children: nextSteps.map((step, i) => /*#__PURE__*/_jsxDEV(\"li\", {\n            children: step\n          }, i, false, {\n            fileName: _jsxFileName,\n            lineNumber: 487,\n            columnNumber: 19\n          }, this))\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 485,\n          columnNumber: 15\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 483,\n        columnNumber: 13\n      }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n        onClick: reset,\n        style: {\n          marginTop: \"16px\",\n          padding: \"8px 16px\"\n        },\n        children: \"\\uD83D\\uDD04 Setup Another Account\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 493,\n        columnNumber: 11\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 452,\n      columnNumber: 9\n    }, this), status === \"error\" && /*#__PURE__*/_jsxDEV(\"div\", {\n      children: [/*#__PURE__*/_jsxDEV(\"h3\", {\n        style: {\n          color: \"#dc3545\"\n        },\n        children: \"\\u274C Setup Failed\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 504,\n        columnNumber: 11\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        style: {\n          padding: \"12px\",\n          backgroundColor: \"#f8d7da\",\n          color: \"#721c24\",\n          borderRadius: \"6px\",\n          marginBottom: \"16px\"\n        },\n        children: message\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 505,\n        columnNumber: 11\n      }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n        onClick: reset,\n        style: {\n          padding: \"8px 16px\"\n        },\n        children: \"\\uD83D\\uDD04 Try Again\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 516,\n        columnNumber: 11\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 503,\n      columnNumber: 9\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 313,\n    columnNumber: 5\n  }, this);\n}\n_s(App, \"M8WqKvfy4d3r3JwZ4g35YFD7chk=\");\n_c = App;\nvar _c;\n$RefreshReg$(_c, \"App\");","map":{"version":3,"names":["React","useEffect","useState","jsxDEV","_jsxDEV","CONFIG","APP_ID","CONFIG_ID","BACKEND_URL","REDIRECT_URI","App","_s","_businessInfo$phone_n","isSDKLoaded","setIsSDKLoaded","status","setStatus","message","setMessage","businessInfo","setBusinessInfo","nextSteps","setNextSteps","loadingMethod","setLoadingMethod","loadSDKWithURLParams","console","log","existingScript","document","getElementById","remove","script","createElement","id","async","defer","crossOrigin","src","onload","setTimeout","window","FB","error","onerror","head","appendChild","loadSDKWithAsyncInit","fbAsyncInit","init","appId","cookie","xfbml","version","getLoginStatus","response","loadSDKWithOlderVersion","fbRoot","body","insertBefore","firstChild","timeout","warn","clearTimeout","messageListener","event","origin","endsWith","data","JSON","parse","type","_data$data","current_step","e","addEventListener","removeEventListener","startSignup","login","_response$authRespons","code","authResponse","setupBusinessAccount","config_id","response_type","override_default_response_type","extras","setup","featureType","sessionInfoVersion","authCode","res","fetch","method","headers","stringify","authorization_code","redirect_uri","client_info","user_agent","navigator","userAgent","timestamp","Date","toISOString","result","json","success","business_info","next_steps","Error","err","reset","tryDifferentMethod","testConnection","alert","style","maxWidth","margin","fontFamily","padding","children","fileName","_jsxFileName","lineNumber","columnNumber","marginBottom","backgroundColor","borderRadius","border","marginTop","onClick","marginRight","color","cursor","fontSize","disabled","fontWeight","business_name","waba_id","phone_numbers","length","webhooks_enabled","map","step","i","_c","$RefreshReg$"],"sources":["/Users/ayoubidel/Desktop/embeddedsignup/front/src/App.js"],"sourcesContent":["import React, { useEffect, useState } from \"react\";\n\nconst CONFIG = {\n  APP_ID: \"1187395139713463\",\n  CONFIG_ID: \"2282335175549472\",\n  BACKEND_URL: \"http://localhost:8081\",\n  REDIRECT_URI: \"https://c6c766eee161.ngrok-free.app\",\n};\n\nexport default function App() {\n  const [isSDKLoaded, setIsSDKLoaded] = useState(false);\n  const [status, setStatus] = useState(\"idle\");\n  const [message, setMessage] = useState(\"\");\n  const [businessInfo, setBusinessInfo] = useState(null);\n  const [nextSteps, setNextSteps] = useState([]);\n  const [loadingMethod, setLoadingMethod] = useState(\"url_params\");\n\n  // Method 1: URL Parameters (Most Reliable)\n  const loadSDKWithURLParams = () => {\n    console.log(\"üîÑ Loading Facebook SDK with URL parameters method...\");\n\n    // Remove existing script if present\n    const existingScript = document.getElementById(\"facebook-jssdk\");\n    if (existingScript) existingScript.remove();\n\n    // Create script with all parameters in URL\n    const script = document.createElement(\"script\");\n    script.id = \"facebook-jssdk\";\n    script.async = true;\n    script.defer = true;\n    script.crossOrigin = \"anonymous\";\n    script.src = `https://connect.facebook.net/en_US/sdk.js#xfbml=1&version=v19.0&appId=${CONFIG.APP_ID}&autoLogAppEvents=1`;\n\n    script.onload = () => {\n      console.log(\"‚úÖ Facebook SDK loaded with URL params\");\n      // Wait a moment for SDK to initialize\n      setTimeout(() => {\n        if (window.FB) {\n          setIsSDKLoaded(true);\n          console.log(\"‚úÖ Facebook SDK ready\");\n        } else {\n          console.error(\"‚ùå FB object not available after load\");\n          setMessage(\"Facebook SDK loaded but FB object not available\");\n        }\n      }, 1000);\n    };\n\n    script.onerror = (error) => {\n      console.error(\"‚ùå Failed to load Facebook SDK:\", error);\n      setMessage(\"Failed to load Facebook SDK\");\n    };\n\n    document.head.appendChild(script);\n  };\n\n  // Method 2: Traditional fbAsyncInit with tested version\n  const loadSDKWithAsyncInit = () => {\n    console.log(\"üîÑ Loading Facebook SDK with fbAsyncInit method...\");\n\n    // Set up fbAsyncInit before loading script\n    window.fbAsyncInit = function () {\n      console.log(\"fbAsyncInit called\");\n      try {\n        window.FB.init({\n          appId: CONFIG.APP_ID,\n          cookie: true,\n          xfbml: true,\n          version: \"v19.0\", // Try v19.0 which is more likely to be supported\n        });\n\n        console.log(\"FB.init completed, testing...\");\n        window.FB.getLoginStatus(function (response) {\n          console.log(\"SDK test successful:\", response.status);\n          setIsSDKLoaded(true);\n        });\n      } catch (error) {\n        console.error(\"‚ùå FB.init error:\", error);\n        setMessage(`FB.init error: ${error.message}`);\n      }\n    };\n\n    // Remove existing script\n    const existingScript = document.getElementById(\"facebook-jssdk\");\n    if (existingScript) existingScript.remove();\n\n    // Load script\n    const script = document.createElement(\"script\");\n    script.id = \"facebook-jssdk\";\n    script.async = true;\n    script.src = \"https://connect.facebook.net/en_US/sdk.js\";\n\n    script.onload = () =>\n      console.log(\"‚úÖ FB script loaded, waiting for init...\");\n    script.onerror = (error) => {\n      console.error(\"‚ùå Script load error:\", error);\n      setMessage(\"Script loading failed\");\n    };\n\n    document.head.appendChild(script);\n  };\n\n  // Method 3: Load with older version (fallback)\n  const loadSDKWithOlderVersion = () => {\n    console.log(\"üîÑ Loading Facebook SDK with older version...\");\n\n    window.fbAsyncInit = function () {\n      console.log(\"fbAsyncInit called (older version)\");\n      try {\n        window.FB.init({\n          appId: CONFIG.APP_ID,\n          cookie: true,\n          xfbml: true,\n          version: \"v17.0\", // Older, more stable version\n        });\n\n        window.FB.getLoginStatus(function (response) {\n          console.log(\"Older version SDK test:\", response.status);\n          setIsSDKLoaded(true);\n        });\n      } catch (error) {\n        console.error(\"‚ùå Older version error:\", error);\n        setMessage(`Older version error: ${error.message}`);\n      }\n    };\n\n    const existingScript = document.getElementById(\"facebook-jssdk\");\n    if (existingScript) existingScript.remove();\n\n    const script = document.createElement(\"script\");\n    script.id = \"facebook-jssdk\";\n    script.async = true;\n    script.src = \"https://connect.facebook.net/en_US/sdk.js\";\n\n    script.onload = () => console.log(\"‚úÖ Older version script loaded\");\n    script.onerror = (error) =>\n      console.error(\"‚ùå Older version script error:\", error);\n\n    document.head.appendChild(script);\n  };\n\n  // Initialize SDK on component mount\n  useEffect(() => {\n    // Ensure fb-root div exists\n    if (!document.getElementById(\"fb-root\")) {\n      const fbRoot = document.createElement(\"div\");\n      fbRoot.id = \"fb-root\";\n      document.body.insertBefore(fbRoot, document.body.firstChild);\n      console.log(\"‚úÖ Added fb-root div\");\n    }\n\n    // Start with the most reliable method\n    if (loadingMethod === \"url_params\") {\n      loadSDKWithURLParams();\n    } else if (loadingMethod === \"async_init\") {\n      loadSDKWithAsyncInit();\n    } else if (loadingMethod === \"older_version\") {\n      loadSDKWithOlderVersion();\n    }\n\n    // Cleanup timeout\n    const timeout = setTimeout(() => {\n      if (!isSDKLoaded) {\n        console.warn(\"‚ö†Ô∏è SDK loading timeout\");\n        setMessage(\"SDK loading timed out. Try a different method.\");\n      }\n    }, 10000);\n\n    return () => clearTimeout(timeout);\n  }, [loadingMethod, isSDKLoaded]);\n\n  // Listen for Facebook messages\n  useEffect(() => {\n    const messageListener = (event) => {\n      if (\n        !event.origin.endsWith(\".facebook.com\") &&\n        event.origin !== \"https://www.facebook.com\" &&\n        event.origin !== \"https://business.facebook.com\"\n      ) {\n        return;\n      }\n\n      try {\n        const data =\n          typeof event.data === \"string\" ? JSON.parse(event.data) : event.data;\n        if (data?.type === \"WA_EMBEDDED_SIGNUP\") {\n          console.log(\"üì® WhatsApp Embedded Signup event:\", data);\n\n          if (data.event === \"FINISH\") {\n            console.log(\"‚úÖ Signup completed\");\n          } else if (data.event === \"CANCEL\") {\n            setStatus(\"error\");\n            setMessage(\n              `Signup cancelled: ${data.data?.current_step || \"unknown\"}`,\n            );\n          }\n        }\n      } catch (e) {\n        // Ignore non-JSON messages\n      }\n    };\n\n    window.addEventListener(\"message\", messageListener);\n    return () => window.removeEventListener(\"message\", messageListener);\n  }, []);\n\n  const startSignup = () => {\n    if (!isSDKLoaded || !window.FB) {\n      setMessage(\"Facebook SDK not ready\");\n      return;\n    }\n\n    setStatus(\"loading\");\n    setMessage(\"Starting WhatsApp Business signup...\");\n\n    console.log(\"üöÄ Starting FB.login with embedded signup\");\n\n    try {\n      window.FB.login(\n        (response) => {\n          console.log(\"üì• FB.login response:\", response);\n\n          if (response.error) {\n            setStatus(\"error\");\n            setMessage(`Login error: ${response.error.message}`);\n            return;\n          }\n\n          const code = response?.authResponse?.code;\n          if (code) {\n            console.log(\"‚úÖ Got authorization code\");\n            setupBusinessAccount(code);\n          } else {\n            setStatus(\"error\");\n            setMessage(`No code received. Status: ${response.status}`);\n          }\n        },\n        {\n          config_id: CONFIG.CONFIG_ID,\n          response_type: \"code\",\n          override_default_response_type: true,\n          extras: {\n            setup: {},\n            featureType: \"\",\n            sessionInfoVersion: \"3\",\n          },\n        },\n      );\n    } catch (error) {\n      console.error(\"‚ùå FB.login error:\", error);\n      setStatus(\"error\");\n      setMessage(`FB.login failed: ${error.message}`);\n    }\n  };\n\n  const setupBusinessAccount = async (authCode) => {\n    try {\n      setMessage(\"Processing WhatsApp Business setup...\");\n\n      const res = await fetch(`${CONFIG.BACKEND_URL}/api/whatsapp/setup`, {\n        method: \"POST\",\n        headers: { \"Content-Type\": \"application/json\" },\n        body: JSON.stringify({\n          authorization_code: authCode,\n          redirect_uri: CONFIG.REDIRECT_URI,\n          client_info: {\n            user_agent: navigator.userAgent,\n            timestamp: new Date().toISOString(),\n          },\n        }),\n      });\n\n      const result = await res.json();\n\n      if (result.success) {\n        setStatus(\"success\");\n        setMessage(result.message || \"Setup completed!\");\n        setBusinessInfo(result.business_info);\n        setNextSteps(result.next_steps || []);\n      } else {\n        throw new Error(result.error || \"Setup failed\");\n      }\n    } catch (err) {\n      setStatus(\"error\");\n      setMessage(`Setup error: ${err.message}`);\n    }\n  };\n\n  const reset = () => {\n    setStatus(\"idle\");\n    setMessage(\"\");\n    setBusinessInfo(null);\n    setNextSteps([]);\n  };\n\n  const tryDifferentMethod = (method) => {\n    setIsSDKLoaded(false);\n    setMessage(\"\");\n    setStatus(\"idle\");\n    setLoadingMethod(method);\n  };\n\n  const testConnection = () => {\n    if (window.FB) {\n      window.FB.getLoginStatus((response) => {\n        alert(`FB Status: ${response.status}\\nSDK Working: ${!!window.FB}`);\n      });\n    } else {\n      alert(\"FB object not available\");\n    }\n  };\n\n  return (\n    <div\n      style={{\n        maxWidth: 720,\n        margin: \"40px auto\",\n        fontFamily: \"system-ui\",\n        padding: \"20px\",\n      }}\n    >\n      {/* Ensure fb-root div exists */}\n      <div id=\"fb-root\"></div>\n\n      <h1>WhatsApp Business ‚Äî Embedded Signup</h1>\n\n      {/* Loading Method Controls */}\n      <div\n        style={{\n          marginBottom: \"20px\",\n          padding: \"15px\",\n          backgroundColor: \"#f8f9fa\",\n          borderRadius: \"8px\",\n          border: \"1px solid #e9ecef\",\n        }}\n      >\n        <strong>SDK Loading Method:</strong>\n        <div style={{ marginTop: \"8px\" }}>\n          <button\n            onClick={() => tryDifferentMethod(\"url_params\")}\n            style={{\n              marginRight: \"8px\",\n              padding: \"6px 12px\",\n              backgroundColor:\n                loadingMethod === \"url_params\" ? \"#007bff\" : \"#6c757d\",\n              color: \"white\",\n              border: \"none\",\n              borderRadius: \"4px\",\n              cursor: \"pointer\",\n            }}\n          >\n            URL Params (Recommended)\n          </button>\n          <button\n            onClick={() => tryDifferentMethod(\"async_init\")}\n            style={{\n              marginRight: \"8px\",\n              padding: \"6px 12px\",\n              backgroundColor:\n                loadingMethod === \"async_init\" ? \"#007bff\" : \"#6c757d\",\n              color: \"white\",\n              border: \"none\",\n              borderRadius: \"4px\",\n              cursor: \"pointer\",\n            }}\n          >\n            Async Init v19.0\n          </button>\n          <button\n            onClick={() => tryDifferentMethod(\"older_version\")}\n            style={{\n              marginRight: \"8px\",\n              padding: \"6px 12px\",\n              backgroundColor:\n                loadingMethod === \"older_version\" ? \"#007bff\" : \"#6c757d\",\n              color: \"white\",\n              border: \"none\",\n              borderRadius: \"4px\",\n              cursor: \"pointer\",\n            }}\n          >\n            Older Version v17.0\n          </button>\n          <button\n            onClick={testConnection}\n            style={{\n              padding: \"6px 12px\",\n              backgroundColor: \"#28a745\",\n              color: \"white\",\n              border: \"none\",\n              borderRadius: \"4px\",\n              cursor: \"pointer\",\n            }}\n          >\n            Test Connection\n          </button>\n        </div>\n      </div>\n\n      {/* Status Display */}\n      <div\n        style={{\n          marginBottom: \"20px\",\n          padding: \"10px\",\n          backgroundColor: isSDKLoaded ? \"#d4edda\" : \"#fff3cd\",\n          border: `1px solid ${isSDKLoaded ? \"#c3e6cb\" : \"#ffeaa7\"}`,\n          borderRadius: \"4px\",\n          fontSize: \"14px\",\n        }}\n      >\n        <strong>Status:</strong>{\" \"}\n        {isSDKLoaded ? \"‚úÖ SDK Ready\" : \"‚è≥ Loading...\"}\n        <br />\n        <strong>Method:</strong> {loadingMethod}\n        <br />\n        <strong>FB Object:</strong> {window.FB ? \"‚úÖ\" : \"‚ùå\"}\n        <br />\n        <strong>App ID:</strong> {CONFIG.APP_ID}\n        {message && (\n          <div style={{ marginTop: \"8px\", color: \"#856404\" }}>\n            <strong>Message:</strong> {message}\n          </div>\n        )}\n      </div>\n\n      {status === \"idle\" && (\n        <button\n          onClick={startSignup}\n          disabled={!isSDKLoaded}\n          style={{\n            padding: \"12px 24px\",\n            fontSize: \"16px\",\n            fontWeight: \"600\",\n            backgroundColor: isSDKLoaded ? \"#25d366\" : \"#ccc\",\n            color: \"white\",\n            border: \"none\",\n            borderRadius: \"8px\",\n            cursor: isSDKLoaded ? \"pointer\" : \"not-allowed\",\n          }}\n        >\n          {isSDKLoaded ? \"üöÄ Connect WhatsApp Business\" : \"‚è≥ Loading SDK...\"}\n        </button>\n      )}\n\n      {status === \"loading\" && (\n        <div>\n          <h3>‚è≥ Setting up...</h3>\n          <p>{message}</p>\n        </div>\n      )}\n\n      {status === \"success\" && (\n        <div>\n          <h3 style={{ color: \"#28a745\" }}>‚úÖ Setup Complete!</h3>\n          <p>{message}</p>\n\n          {businessInfo && (\n            <div\n              style={{\n                marginTop: \"16px\",\n                padding: \"16px\",\n                backgroundColor: \"#d4edda\",\n                borderRadius: \"8px\",\n              }}\n            >\n              <div>\n                <strong>Business:</strong> {businessInfo.business_name}\n              </div>\n              <div>\n                <strong>WABA ID:</strong> {businessInfo.waba_id}\n              </div>\n              <div>\n                <strong>Phone Numbers:</strong>{\" \"}\n                {businessInfo.phone_numbers?.length}\n              </div>\n              <div>\n                <strong>Webhooks:</strong>{\" \"}\n                {businessInfo.webhooks_enabled ? \"‚úÖ\" : \"‚ùå\"}\n              </div>\n            </div>\n          )}\n\n          {nextSteps.length > 0 && (\n            <div style={{ marginTop: \"16px\" }}>\n              <h4>Next Steps:</h4>\n              <ul>\n                {nextSteps.map((step, i) => (\n                  <li key={i}>{step}</li>\n                ))}\n              </ul>\n            </div>\n          )}\n\n          <button\n            onClick={reset}\n            style={{ marginTop: \"16px\", padding: \"8px 16px\" }}\n          >\n            üîÑ Setup Another Account\n          </button>\n        </div>\n      )}\n\n      {status === \"error\" && (\n        <div>\n          <h3 style={{ color: \"#dc3545\" }}>‚ùå Setup Failed</h3>\n          <div\n            style={{\n              padding: \"12px\",\n              backgroundColor: \"#f8d7da\",\n              color: \"#721c24\",\n              borderRadius: \"6px\",\n              marginBottom: \"16px\",\n            }}\n          >\n            {message}\n          </div>\n          <button onClick={reset} style={{ padding: \"8px 16px\" }}>\n            üîÑ Try Again\n          </button>\n        </div>\n      )}\n    </div>\n  );\n}\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}